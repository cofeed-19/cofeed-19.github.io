(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(5075)}])},5075:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var r=n(4051),a=n.n(r),i=n(5893),s=n(7294),c=n(5003),o=n.n(c),u=n(1335),l=n(4014),f=n(5682);function d(e,t,n,r,a,i,s){try{var c=e[i](s),o=c.value}catch(u){return void n(u)}c.done?t(o):Promise.resolve(o).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){d(i,r,a,s,c,"next",e)}function c(e){d(i,r,a,s,c,"throw",e)}s(void 0)}))}}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){v(e,t,n[t])}))}return e}var x=new(o());function b(){return k.apply(this,arguments)}function k(){return(k=p(a().mark((function e(){var t,n,r,i,s,c,o,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.qZ)();case 2:return e.next=4,(0,l.lj)();case 4:for(t=e.sent,n={},r=!0,i=!1,s=void 0,e.prev=7,c=t[Symbol.iterator]();!(r=(o=c.next()).done);r=!0)u=o.value,n[u.url]=u;e.next=15;break;case 11:e.prev=11,e.t0=e.catch(7),i=!0,s=e.t0;case 15:e.prev=15,e.prev=16,r||null==c.return||c.return();case 18:if(e.prev=18,!i){e.next=21;break}throw s;case 21:return e.finish(18);case 22:return e.finish(15);case 23:return e.abrupt("return",n);case 24:case"end":return e.stop()}}),e,null,[[7,11,15,23],[16,,18,22]])})))).apply(this,arguments)}function w(){var e=(0,s.useState)({}),t=e[0],n=e[1],r=(0,s.useState)({total:0,loaded:0}),c=r[0],o=r[1];function d(){return v.apply(this,arguments)}function v(){return(v=p(a().mark((function e(){var t,r,i,s,c,u,l,d,p,v,k;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:t=e.sent,r=Object.keys(t).length,o((function(e){return h({},e,{total:r})})),i=!0,s=!1,c=void 0,e.prev=6,u=Object.keys(t)[Symbol.iterator]();case 8:if(i=(l=u.next()).done){e.next=28;break}return d=l.value,e.prev=10,e.next=13,x.parseURL(d);case 13:return p=e.sent,e.next=16,(0,f.KU)(p.link);case 16:v=e.sent,k=h({},p,{url:d,favicon:v,visited:t[d].visited||{}}),t[d]=k,e.next=24;break;case 21:e.prev=21,e.t0=e.catch(10),console.error("Could not update feed for ".concat(d));case 24:o((function(e){return h({},e,{loaded:e.loaded+1})}));case 25:i=!0,e.next=8;break;case 28:e.next=34;break;case 30:e.prev=30,e.t1=e.catch(6),s=!0,c=e.t1;case 34:e.prev=34,e.prev=35,i||null==u.return||u.return();case 37:if(e.prev=37,!s){e.next=40;break}throw c;case 40:return e.finish(37);case 41:return e.finish(34);case 42:n(t);case 43:case"end":return e.stop()}}),e,null,[[6,30,34,42],[10,21],[35,,37,41]])})))).apply(this,arguments)}function k(){return(k=p(a().mark((function e(t){var n,r,i,s,c,o,u,f,p;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.trim().split(",").filter(Boolean),r=[],i=!0,s=!1,c=void 0,e.prev=3,o=n[Symbol.iterator]();case 5:if(i=(u=o.next()).done){e.next=28;break}return f=u.value,e.prev=8,e.next=11,x.parseURL(f);case 11:p=e.sent,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(8),r.push(f);case 17:if(e.t1=p,!e.t1){e.next=22;break}return e.next=21,(0,l.bd)(f);case 21:e.t1=!e.sent;case 22:if(!e.t1){e.next=25;break}return e.next=25,(0,l.jP)({url:f,visited:{}});case 25:i=!0,e.next=5;break;case 28:e.next=34;break;case 30:e.prev=30,e.t2=e.catch(3),s=!0,c=e.t2;case 34:e.prev=34,e.prev=35,i||null==o.return||o.return();case 37:if(e.prev=37,!s){e.next=40;break}throw c;case 40:return e.finish(37);case 41:return e.finish(34);case 42:r.length&&alert("Could not add:\n".concat(r.join("\n"),"\n\nProbable CORS issue\ud83d\ude22!\nMaybe ask website owner to enable CORS\ud83e\udd14!\nOr install browser extension to allow CORS: https://mybrowseraddon.com/access-control-allow-origin.html")),d();case 44:case"end":return e.stop()}}),e,null,[[3,30,34,42],[8,14],[35,,37,41]])})))).apply(this,arguments)}return(0,s.useEffect)((function(){d()}),[]),(0,s.useEffect)((function(){c.loaded>c.total&&o(h({},c,{loaded:c.total}))}),[c]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.NC,{}),(0,i.jsx)(u.h4,{}),(0,i.jsxs)("main",{children:[(0,i.jsx)(u.Ob,{onSubmit:function(e){return k.apply(this,arguments)}}),(0,i.jsx)(u.s0,{loadedFeeds:c}),Object.keys(t).map((function(e){var n=t[e],r=n.items.filter((function(e){return e.link&&(!n.visited||!n.visited[e.link])})),a=n.items.filter((function(e){return e.link&&n.visited&&n.visited[e.link]}));return(0,i.jsxs)("section",{children:[(0,i.jsxs)("h3",{children:[n.link?(0,i.jsxs)(i.Fragment,{children:[n.favicon&&(0,i.jsx)("img",{alt:n.title,src:n.favicon,width:16,height:16}),(0,i.jsx)(u.dL,{link:n.link,title:n.title})]}):n.title||e," ",(0,i.jsx)("button",{onClick:function(){return function(e,t){confirm("Delete ".concat(t," from feeds?"))&&((0,l.vs)(e),d())}(e,n.title)},children:"X"})]}),(0,i.jsx)(u.lZ,{feed:n,feedUrl:e,newItems:r,updateFeeds:d}),(0,i.jsx)(u.xx,{feed:n,feedUrl:e,visitedItems:a})]},e)}))]}),(0,i.jsx)(u.$_,{})]})}}},function(e){e.O(0,[719,335,774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);