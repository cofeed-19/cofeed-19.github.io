(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(5075)}])},5075:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var r=n(4051),a=n.n(r),s=n(5893),i=n(7294),c=n(5003),o=n.n(c),u=n(3982),l=n(4014);function f(e,t,n,r,a,s,i){try{var c=e[s](i),o=c.value}catch(u){return void n(u)}c.done?t(o):Promise.resolve(o).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function i(e){f(s,r,a,i,c,"next",e)}function c(e){f(s,r,a,i,c,"throw",e)}i(void 0)}))}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){d(e,t,n[t])}))}return e}var b=new(o());function h(){return x.apply(this,arguments)}function x(){return(x=p(a().mark((function e(){var t,n,r,s,i,c,o,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.qZ)();case 2:return e.next=4,(0,l.lj)();case 4:for(t=e.sent,n={},r=!0,s=!1,i=void 0,e.prev=7,c=t[Symbol.iterator]();!(r=(o=c.next()).done);r=!0)u=o.value,n[u.url]=u;e.next=15;break;case 11:e.prev=11,e.t0=e.catch(7),s=!0,i=e.t0;case 15:e.prev=15,e.prev=16,r||null==c.return||c.return();case 18:if(e.prev=18,!s){e.next=21;break}throw i;case 21:return e.finish(18);case 22:return e.finish(15);case 23:return e.abrupt("return",n);case 24:case"end":return e.stop()}}),e,null,[[7,11,15,23],[16,,18,22]])})))).apply(this,arguments)}function k(){var e=(0,i.useState)({}),t=e[0],n=e[1],r=(0,i.useState)({total:0,loaded:0}),c=r[0],o=r[1];function f(){return d.apply(this,arguments)}function d(){return(d=p(a().mark((function e(){var t,r,s,i,c,u,l,f,p,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:t=e.sent,r=Object.keys(t).length,o((function(e){return v({},e,{total:r})})),s=!0,i=!1,c=void 0,e.prev=6,u=Object.keys(t)[Symbol.iterator]();case 8:if(s=(l=u.next()).done){e.next=25;break}return f=l.value,e.prev=11,e.next=14,b.parseURL(f);case 14:p=e.sent,e.next=20;break;case 17:e.prev=17,e.t0=e.catch(11),console.error("Could not update feed for ".concat(f));case 20:p&&(d=v({},p,{url:f,visited:t[f].visited||{}}),t[f]=d),o((function(e){return v({},e,{loaded:e.loaded+1})}));case 22:s=!0,e.next=8;break;case 25:e.next=31;break;case 27:e.prev=27,e.t1=e.catch(6),i=!0,c=e.t1;case 31:e.prev=31,e.prev=32,s||null==u.return||u.return();case 34:if(e.prev=34,!i){e.next=37;break}throw c;case 37:return e.finish(34);case 38:return e.finish(31);case 39:n(t);case 40:case"end":return e.stop()}}),e,null,[[6,27,31,39],[11,17],[32,,34,38]])})))).apply(this,arguments)}function x(){return(x=p(a().mark((function e(t){var n,r,s,i,c,o,u,p,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.trim().split(",").filter(Boolean),r=[],s=!0,i=!1,c=void 0,e.prev=3,o=n[Symbol.iterator]();case 5:if(s=(u=o.next()).done){e.next=28;break}return p=u.value,e.prev=8,e.next=11,b.parseURL(p);case 11:d=e.sent,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(8),r.push(p);case 17:if(e.t1=d,!e.t1){e.next=22;break}return e.next=21,(0,l.bd)(p);case 21:e.t1=!e.sent;case 22:if(!e.t1){e.next=25;break}return e.next=25,(0,l.jP)({url:p,visited:{}});case 25:s=!0,e.next=5;break;case 28:e.next=34;break;case 30:e.prev=30,e.t2=e.catch(3),i=!0,c=e.t2;case 34:e.prev=34,e.prev=35,s||null==o.return||o.return();case 37:if(e.prev=37,!i){e.next=40;break}throw c;case 40:return e.finish(37);case 41:return e.finish(34);case 42:r.length&&alert("Could not add:\n".concat(r.join("\n"),"\n\nProbable CORS issue\ud83d\ude22!\nMaybe ask website owner to enable CORS\ud83e\udd14!\nOr install browser extension to allow CORS: https://mybrowseraddon.com/access-control-allow-origin.html")),f();case 44:case"end":return e.stop()}}),e,null,[[3,30,34,42],[8,14],[35,,37,41]])})))).apply(this,arguments)}return(0,i.useEffect)((function(){f()}),[]),(0,i.useEffect)((function(){c.loaded>c.total&&o(v({},c,{loaded:c.total}))}),[c]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.NC,{}),(0,s.jsx)(u.h4,{}),(0,s.jsxs)("main",{children:[(0,s.jsx)(u.Ob,{onSubmit:function(e){return x.apply(this,arguments)}}),(0,s.jsx)(u.s0,{loadedFeeds:c}),Object.keys(t).map((function(e){var n=t[e],r=n.items.filter((function(e){return e.link&&(!n.visited||!n.visited[e.link])})),a=n.items.filter((function(e){return e.link&&n.visited&&n.visited[e.link]}));return(0,s.jsxs)("section",{children:[(0,s.jsxs)("h3",{children:[n.link?(0,s.jsx)(u.dL,{link:n.link,title:n.title}):n.title||e," ",(0,s.jsx)("button",{onClick:function(){return function(e,t){confirm("Delete ".concat(t," from feeds?"))&&((0,l.vs)(e),f())}(e,n.title)},children:"X"})]}),(0,s.jsx)(u.lZ,{feed:n,feedUrl:e,newItems:r,updateFeeds:f}),(0,s.jsx)(u.xx,{feed:n,feedUrl:e,visitedItems:a})]},e)}))]}),(0,s.jsx)(u.$_,{})]})}}},function(e){e.O(0,[387,982,774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);