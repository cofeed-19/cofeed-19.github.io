(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{2562:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var r=n(2809),o=n(266),i=n(809),a=n.n(i),c=n(7294),s=n(5003),u=n.n(s),l=n(8430),f=n(3564),d=n(5893);function p(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=new(u());function x(){return j.apply(this,arguments)}function j(){return(j=(0,o.Z)(a().mark((function e(){var t,n,r,o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.qZ)();case 2:return e.next=4,(0,f.lj)();case 4:t=e.sent,n={},r=p(t);try{for(r.s();!(o=r.n()).done;)i=o.value,n[i.url]=i}catch(a){r.e(a)}finally{r.f()}return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){var e=(0,c.useState)({}),t=e[0],n=e[1],r=(0,c.useState)({total:0,loaded:0}),i=r[0],s=r[1];function u(){return b.apply(this,arguments)}function b(){return(b=(0,o.Z)(a().mark((function e(){var t,r,o,i,c,u,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:t=e.sent,r=Object.keys(t).length,s((function(e){return h(h({},e),{},{total:r})})),o=0,i=Object.keys(t);case 6:if(!(o<i.length)){e.next=23;break}return c=i[o],u=void 0,e.prev=9,e.next=12,y.parseURL(c);case 12:u=e.sent,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),console.error("Could not update feed for ".concat(c));case 18:u&&(l=h(h({},u),{},{url:c,visited:t[c].visited||{}}),t[c]=l),s((function(e){return h(h({},e),{},{loaded:e.loaded+1})}));case 20:o++,e.next=6;break;case 23:n(t);case 24:case"end":return e.stop()}}),e,null,[[9,15]])})))).apply(this,arguments)}function v(){return(v=(0,o.Z)(a().mark((function e(t){var n,r,o,i,c,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.trim().split(",").filter(Boolean),r=[],o=p(n),e.prev=3,o.s();case 5:if((i=o.n()).done){e.next=27;break}return c=i.value,s=void 0,e.prev=8,e.next=11,y.parseURL(c);case 11:s=e.sent,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(8),r.push(c);case 17:if(e.t1=s,!e.t1){e.next=22;break}return e.next=21,(0,f.bd)(c);case 21:e.t1=!e.sent;case 22:if(!e.t1){e.next=25;break}return e.next=25,(0,f.jP)({url:c,visited:{}});case 25:e.next=5;break;case 27:e.next=32;break;case 29:e.prev=29,e.t2=e.catch(3),o.e(e.t2);case 32:return e.prev=32,o.f(),e.finish(32);case 35:r.length&&alert("Could not add:\n".concat(r.join("\n"),"\n\nProbable CORS issue\ud83d\ude22!\nMaybe ask website owner to enable CORS\ud83e\udd14!\nOr install browser extension to allow CORS: https://mybrowseraddon.com/access-control-allow-origin.html")),u();case 37:case"end":return e.stop()}}),e,null,[[3,29,32,35],[8,14]])})))).apply(this,arguments)}return(0,c.useEffect)((function(){u()}),[]),(0,c.useEffect)((function(){i.loaded>i.total&&s(h(h({},i),{},{loaded:i.total}))}),[i]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.NC,{}),(0,d.jsx)(l.h4,{}),(0,d.jsxs)("main",{children:[(0,d.jsx)(l.Ob,{onSubmit:function(e){return v.apply(this,arguments)}}),(0,d.jsx)(l.s0,{loadedFeeds:i}),Object.keys(t).map((function(e){var n=t[e],r=n.items.filter((function(e){return e.link&&(!n.visited||!n.visited[e.link])})),o=n.items.filter((function(e){return e.link&&n.visited&&n.visited[e.link]}));return(0,d.jsxs)("section",{children:[(0,d.jsxs)("h2",{children:[n.link?(0,d.jsx)(l.dL,{link:n.link,title:n.title}):n.title||e," ",(0,d.jsx)("button",{onClick:function(){return function(e,t){confirm("Delete ".concat(t," from feeds?"))&&((0,f.vs)(e),u())}(e,n.title)},children:"X"})]}),(0,d.jsx)(l.lZ,{feed:n,feedUrl:e,newItems:r,updateFeeds:u}),(0,d.jsx)(l.xx,{feed:n,feedUrl:e,visitedItems:o})]},e)})),(0,d.jsx)("button",{onClick:function(){var e=Object.keys(t);navigator.clipboard.writeText(e.join(",")).then((function(){alert("Feed urls copied to clipboard")}))},children:"Copy feed urls"})]}),(0,d.jsx)(l.$_,{})]})}},5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(2562)}])}},function(e){e.O(0,[861,337,774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);